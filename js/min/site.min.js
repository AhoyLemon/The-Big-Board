function randomNumber(min,max) {
  return Math.floor(Math.random() * (max - min) ) + min;
}

function workThisArray(myArray) {

  let r = Math.floor(Math.random()*(myArray.length));
  let message = '';

  myArray[r].forEach(function(k) {
    //console.log(typeof k);
    if (typeof k == "object") {
      //console.log(k)
      var z = Math.floor(Math.random()*(k.length));

      if (typeof k[z] == "object") {
        k[z].forEach(function(a) {
          if (typeof a == "object") {
            message += a[(Math.floor(Math.random()*(a.length)))];
          } else {
            message += a;
          }
        });
      } else {
        message += k[z];
      }
    } else {
      message += k;
    }
  });
  return message;
}


function stringInArray(s, a) {
  let n = a.indexOf(s);
  if (n > -1) {
    return true;
  } else {
    return false;
  }
}

function randomFrom(array) {
  return array[Math.floor(Math.random()*(array.length))];
}

function removeFromArray(array,key,value) {
  for (var i = array.length - 1; i >= 0; --i) {
    if (array[i][key] == value) {
        array.splice(i,1);
    }
  }
}

function findInArray(array,key,value) {
  for (var i = array.length - 1; i >= 0; --i) {
    if (array[i][key] == value) {
      return i;
      //alert(i);
      //break;
    }
  }
}


/*
function formatDate(d) {
  const allMonths = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December' ]
  const MonthAbbr = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec' ]
  let e = d.split("-");
  return MonthAbbr[parseInt(e[1] - 1)] + ' ' + e[2] + ', ' + e[0];
}
*/


function shuffle(o){
  for(var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
  return o;
}

function capitalize(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

function bold(string) {
  return '<strong>' + string + '</strong>';
}

function similarity(s1, s2) {
  var longer = s1;
  var shorter = s2;
  if (s1.length < s2.length) {
    longer = s2;
    shorter = s1;
  }
  var longerLength = longer.length;
  if (longerLength == 0) {
    return 1.0;
  }
  return (longerLength - editDistance(longer, shorter)) / parseFloat(longerLength);
}

function editDistance(s1, s2) {
  s1 = s1.toLowerCase();
  s2 = s2.toLowerCase();

  let costs = [];
  for (let i = 0; i <= s1.length; i++) {
    var lastValue = i;
    for (let j = 0; j <= s2.length; j++) {
      if (i == 0)
        costs[j] = j;
      else {
        if (j > 0) {
          let newValue = costs[j - 1];
          if (s1.charAt(i - 1) != s2.charAt(j - 1))
            newValue = Math.min(Math.min(newValue, lastValue),
              costs[j]) + 1;
          costs[j - 1] = lastValue;
          lastValue = newValue;
        }
      }
    }
    if (i > 0)
      costs[s2.length] = lastValue;
  }
  return costs[s2.length];
}

function testChance(chance) {
  let r = Math.floor(Math.random() * 100) + 1;
  if (chance >= r) {
    return true;
  } else {
    return false;
  }
}

function getParams() {
  var vars = {};
  var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
      vars[key] = value;
  });
  if (vars && vars != {}) {
    return vars;
  } else {
    return false;
  }
}


function sendEvent(c, a, l, v) {
  if (v) {
    ga('send', 'event', { eventCategory: c, eventAction: a, eventLabel: l, eventValue:v });
    console.log('CATEGORY: '+c+', ACTION:'+a+', LABEL:'+l+', VALUE:'+v);
  } else if (l) {
    ga('send', 'event', { eventCategory: c, eventAction: a, eventLabel: l });
    console.log('CATEGORY: '+c+', ACTION:'+a+', LABEL:'+l);
  } else {
    ga('send', 'event', { eventCategory: c, eventAction: a });
    console.log('CATEGORY: '+c+', ACTION:'+a);
  }
}
//@prepros-prepend globals/_functions.js

//@prepros-append partials/_variables.js
//@prepros-append partials/_damndog.js
//@prepros-append partials/_boxes.js

//@prepros-append partials/_queue.js
//@prepros-append partials/_load-boxes.js

//@prepros-append partials/_vue.js
const siteURL = "";

var sound = new Howl({
  src: ['audio/wheel2.ogg']
});

var dingdingding = new Howl({
  src: ['audio/4bells.ogg']
});

var whammySound = new Howl({
  src: ['audio/blarp.ogg']
});

var hurryUp = new Howl({
  src: ['audio/carclock.ogg']
});

var nngg = new Howl({
  src: ['audio/5buzz.ogg']
});

const loadDamnDog = false;

const players = [
  [
    {
      name: "Boots Raingear",
      pic:  "boots.jpg"
    },
    {
      name: "Achilles' Heelies",
      pic:  "heelies.jpg"
    },
    "Frank West",
    {
      name: "Victor Laszlo",
      pic:  "victor.jpg"
    }
  ],
  [
    {
      name: "Lou Fernandez",
      pic:  "lou.jpg"
    },
    "Jack Chick",
    {
      name: "Lemon",
      pic: "lemon.jpg"
    },
    "Kumquatxop"
  ],
  [
    {
      name: "Nutshell Gulag",
      pic: "gulag.jpg"
    },
    
    {
      name: "Adam Bozarth",
      pic:  "bozarth.jpg"
    },
    "K. Thor Jensen",
    {
      name: "Shell Game",
      pic:  "shellgame.jpg"
    }
  ],
  [
    {
      name: "bumpgrrl",
      pic:  "bumpgrrl.jpg"
    },
    {
      name: "Jimmyfranks",
      pic:  "jimmyfranks.jpg"
    },
    "Bunnybread",
    "STOG"
  ]
];

const finalists = [
  {
    name: "Victor Laszlo",
    pic:  "victor.jpg"
  },
  {
    name: "Lou Fernandez",
    pic:  "lou.jpg"
  },
  {
    name: "Adam Bozarth",
    pic:  "bozarth.jpg"
  },
  {
    name: "Jimmyfranks",
    pic:  "jimmyfranks.jpg"
  },
];



const finalChoices = [
  [
    { 
      title:    "How to Explore Words and Live Beyond Them",
      pic:      "explore-words.jpg",
      url:      "https://www.wikihow.com/Explore-Words-and-Live-Beyond-Them",
      provider: "Montrith",
      rating:   "WTF",
      code:     "F_1A"
    },
    { 
      title:    "How To Do Black Magic",
      pic:      "black-magic.jpg",
      url:      "https://www.wikihow.com/Do-Black-Magic",
      provider: "crow",
      rating:   "LOL",
      code:     "F_1B"
    }
  ],
  [
    { 
      title:    "How To Stop A Wedding",
      pic:      "Stop-a-Wedding.jpg",
      url:      "https://www.wikihow.com/Stop-a-Wedding",
      provider: "nigeline",
      rating:   "LOL",
      code:     "F_2A"
    },
    { 
      title:    "How To Win A Swordfight",
      pic:      "Win-a-Swordfight.jpg",
      url:      "https://www.wikihow.com/Win-a-Swordfight",
      provider: "Boots Raingear",
      rating:   "LOL",
      code:     "F_2B"
    }
  ],
  [
    { 
      title:    "How To Tell If Someone Is High",
      pic:      "Tell-if-Someone-Is-High.jpg",
      url:      "https://www.wikihow.com/Tell-if-Someone-Is-High",
      provider: "chai tea latte",
      rating:   "LOL",
      code:     "F_3A"
    },
    {
      title:    "How to Live in a Dungeon",
      pic:      "Live-in-a-Dungeon.jpg",
      url:      "https://www.wikihow.com/Live-in-a-Dungeon",
      provider: "Wrought",
      rating:   "WTF",
      code:     "F_3B"
    }
  ],
  [
    { 
      title:    "How to Arrive at ‐1 and 1 from Spaces or Zeroes",
      pic:      "arrive-at-1.jpg",
      url:      "https://www.wikihow.com/Arrive-at-%E2%80%901-and-1-from-Spaces-or-Zeroes",
      provider: "Mathrandir",
      rating:   "WTF",
      code:     "F_4A"
    },
    {
      title:    "How to Cook Lasagna in Your Dishwasher",
      pic:      "dishwasher.jpg",
      url:      "https://www.wikihow.com/Cook-Lasagna-in-Your-Dishwasher",
      provider: "chai tea latte",
      rating:   "WTF",
      code:     "F_4B"
    }
  ]
];
// jshint -W098

var wikiHow = [
  {
    slug: "Choose-a-Puppy"
  },
  {
    slug: "Do-Laughter-Yoga"
  },
  {
    slug: "Avoid-Uncomfortable-Conversations-About-Religion"
  },
  {
    slug: "Have-a-Happy-Healthy-and-Spiritually-Fulfilled-Old-Age"
  },
  {
    slug: "Know-if-You-Are-Drunk"
  },
  {
    slug: "Have-Fun-Without-Friends"
  },
  {
    slug: "Cure-a-Headache-Without-Medication"
  },
  {
    slug: "Be-an-Airhead"
  },
  {
    slug: "Know-if-Your-Girlfriend-Wants-to-Have-Sex-With-You"
  },
  {
    slug: "Make-Someone-Feel-Better-Via-Text-Message"
  },
  {
    slug: "Turn-a-Girl-On"
  },
  {
    slug: "Send-Dirty-Texts"
  },
  {
    slug: "Fix-Bad-Breath-on-the-Spot"
  },
  {
    slug: "Be-a-Spy"
  },
  {
    slug: "Tell-when-a-Girl-Is-Interested-in-You"
  },
  {
    slug: "Keep-a-Straight-Face"
  },
  {
    slug: "Get-Over-an-Anime-Addiction"
  },
  {
    slug: "Play-the-Alto-Saxophone"
  },
  {
    slug: "Clear-a-Stuffy-Nose"
  },
  {
    slug: "Write-a-Dystopian-Novel"
  },
  {
    slug: "Get-Anime-Eyes"
  },
  {
    slug: "Be-Emotionless"
  },
  {
    slug: "Understand-Heterosexual-People"
  },
  {
    slug: "Cheat-On-a-Test"
  },
  {
    slug: "Live-in-Peace"
  },
  {
    slug: "Get-Rid-of-an-Unwanted-Erection"
  },
  {
    slug: "Resist-Sexual-Temptation"
  },
  {
    slug: "Tell-a-Girl-You-Like-Her"
  },
  {
    slug: "Make-Someone-You-Met-on-MSN-Love-You"
  },
  {
    slug: "Enjoy-Phone-Sex"
  },
  {
    slug: "Raise-a-Child"
  },
  {
    slug: "Love-Your-Girlfriend"
  },
  {
    slug: "Win-a-Tickle-War"
  },
  {
    slug: "Talk-to-Girls-as-a-Teen-Boy"
  },
  {
    slug: "Survive-a-Charging-Elephant"
  },
  {
    slug: "Make-Friends-Online"
  },
  {
    slug: "Reason"
  },
  {
    slug: "Not-Do-Drugs"
  },
  {
    slug: "Make-Your-Boyfriend-Break-up-With-You"
  },
  {
    slug: "Give-Someone-a-Hickey"
  },
  {
    slug: "Live-in-a-Dungeon"
  },
  {
    slug: "Buy-Firearms-in-California"
  },
  {
    slug: "Capture-Joie-De-Vivre"
  },
  {
    slug: "Be-Naturally-Funny"
  },
  {
    slug: "Be-Playful"
  },
  {
    slug: "Be-a-Lesbian"
  },
  {
    slug: "Believe-in-God"
  },
  {
    slug: "Read-People"
  },
  {
    slug: "Get-on-a-Reality-TV-Show"
  },
  {
    slug: "Overcome-an-Addiction"
  },
  {
    slug: "Start-a-Cult"
  },
  {
    slug: "Tell-a-Lie-Without-Being-Caught"
  },
  {
    slug: "Increase-Your-Ejaculate"
  },
  {
    slug: "Resist-Sexual-Desires-by-Following-Islamic-Traditions"
  },
  {
    slug: "Prevent-Depression"
  },
  {
    slug: "Make-Your-Boyfriend-Kiss-You"
  },
  {
    slug: "Make-Yourself-Pee"
  },
  {
    slug: "Fart-Quietly"
  },
  {
    slug: "Treat-Nasal-Infection-Naturally"
  },
  {
    slug: "Become-an-Alpha-Male"
  },
  {
    slug: "Act-Like-One-of-the-Guys"
  },
  {
    slug: "Be-a-Good-Husband"
  },
  {
    slug: "Get-a-Lesbian-Girlfriend"
  },
  {
    slug: "Stand-up-for-Yourself"
  },
  {
    slug: "Act-Silly-with-Your-Boyfriend"
  },
  {
    slug: "Understand-Gay-and-Lesbian-People"
  },
  {
    slug: "Touch-a-Girl"
  },
  {
    slug: "Act-Like-Bella-from-Twilight"
  },
  {
    slug: "Become-a-Teen-Hacker"
  },
  {
    slug: "Dress-Up-Like-a-Hillbilly"
  },
  {
    slug: "Impress-a-Classmate"
  },
  {
    slug: "Show-Your-Husband-That-You-Love-Him"
  },
  {
    slug: "Be-a-Good-Wife"
  },
  {
    slug: "Love"
  },
  {
    slug: "Be-Quirky"
  },
  {
    slug: "Make-Your-Girlfriend-Want-to-Have-Sex-With-You"
  },
  {
    slug: "Sue-for-Emotional-Distress"
  },
  {
    slug: "Get-Over-an-Affair-and-Move-On-with-Your-Relationship"
  },
  {
    slug: "Survive-in-a-Hotel"
  },
  {
    slug: "Date-a-Stripper"
  },
  {
    slug: "Perform-a-Lap-Dance-for-Your-Boyfriend-or-Husband"
  },
  {
    slug: "Be-a-Trophy-Wife"
  },
  {
    slug: "Start-Doing-Stand-up-Comedy"
  },
  {
    slug: "Give-Your-Boyfriend-Space"
  },
  {
    slug: "Understand-the-Male-Ego"
  },
  {
    slug: "Be-Pretty"
  },
  {
    slug: "Be-Subtle-About-Getting-a-Guy-to-Call-You"
  },
  {
    slug: "Pole-Vault"
  },
  {
    slug: "Be-a-Male-Housewife"
  },
  {
    slug: "Be-Polite-in-Norway"
  },
  {
    slug: "Be-Sassy"
  },
  {
    slug: "Deal-With-a-Sarcastic-Person"
  },
  {
    slug: "Become-Famous-on-the-Internet"
  },
  {
    slug: "Make-Yourself-Famous-on-YouTube"
  },
  {
    slug: "Get-Famous-While-Young"
  },
  {
    slug: "Survive-a-Cold-Winter"
  },
  {
    slug: "Discuss-Barack-Obama-Intelligently"
  },
  {
    slug: "Know-if-Your-Boyfriend-Is-Being-Disrespectful-to-You"
  },
  {
    slug: "Talk-to-Authority"
  },
  {
    slug: "Be-a-Hipster-Girl"
  },
  {
    slug: "Act-Drunk"
  },
  {
    slug: "Tell-if-Someone-Is-High"
  },
  {
    slug: "Win-a-Fist-Fight"
  },
  {
    slug: "Talk-Dirty-in-Bed"
  },
  {
    slug: "Persuade-a-Christian-to-Become-Atheist"
  },
  {
    slug: "Make-a-Guy-That-Is-Mad-at-You-Like-You-Again-Through-Text"
  },
  {
    slug: "Act-Like-a-Villain"
  },
  {
    slug: "Act-Like-the-Doctor-of-Doctor-Who"
  },
  {
    slug: "Act-Like-Royalty"
  },
  {
    slug: "Be-Cunning"
  },
  {
    slug: "Be-Edgy"
  },
  {
    slug: "Be-Brave"
  },
  {
    slug: "Motivate-Yourself"
  },
  {
    slug: "Survive-in-the-Woods"
  },
  {
    slug: "Control-Rosacea"
  },
  {
    slug: "Create-Urban-Rainforests"
  },
  {
    slug: "Refuse-a-Kiss"
  },
  {
    slug: "Be-Sexually-Empowered"
  },
  {
    slug: "Respectfully-Decline-Sex"
  },
  {
    slug: "Make-Out"
  },
  {
    slug: "Avoid-Creating-a-Weak-Villain"
  },
  {
    slug: "Learn-Smoking-Tricks"
  },
  {
    slug: "Avoid-Getting-Caught-Smoking-by-Your-Parents"
  },
  {
    slug: "Identify-Trauma-in-Autistic-People"
  },
  {
    slug: "Stop-Binge-Drinking"
  },
  {
    slug: "Be-Stealthy-Like-a-Ninja"
  },
  {
    slug: "Calm-Down-Quickly"
  },
  {
    slug: "Gargle"
  },
  {
    slug: "Impress-People"
  },
  {
    slug: "Not-Get-Arrested-While-Skateboarding"
  },
  {
    slug: "Recognize-the-Signs-of-Intoxication"
  },
  {
    slug: "Dissolve-the-Ego"
  },
  {
    slug: "Be-Laid-Back"
  },
  {
    slug: "Get-over-Eavesdropped-Phone-Sex-That-You-Had-Without-Knowing-It-Was-Eavesdropped"
  },
  {
    slug: "Be-Strong"
  },
  {
    slug: "Stay-Calm-Around-an-Ex"
  },
  {
    slug: "Plan-a-Disney-Vacation"
  },
  {
    slug: "Act-Like-Sonic-the-Hedgehog"
  },
  {
    slug: "Become-a-Pastafarian"
  },
  {
    slug: "Meet-a-Porn-Star-in-Your-Area"
  },
  {
    slug: "Be-a-Punk"
  },
  {
    slug: "Make-a-Friend-Fall-in-Love-with-You"
  },
  {
    slug: "Be-a-World-Citizen"
  },
  {
    slug: "Be-a-Fascist"
  },
  {
    slug: "Flirt-With-a-Hot-Girl"
  },
  {
    slug: "Write-a-Comedy-Sketch"
  },
  {
    slug: "Release-Endorphins"
  },
  {
    slug: "Feed-a-Snake"
  },
  {
    slug: "Kick-Out-a-Dangerous-Roommate"
  },
  {
    slug: "Identify-a-Psychopath"
  },
  {
    slug: "Stop-a-Masturbation-Addiction"
  },
  {
    slug: "Fix-Your-Digestion"
  },
  {
    slug: "Identify-Cervicitis"
  },
  {
    slug: "Be-a-Christian-Leader"
  },
  {
    slug: "Make-an-Upside-Down-Man-Costume"
  },
  {
    slug: "Relax-when-You-Are-Sick"
  },
  {
    slug: "Use-French-in-Conversations-About-Mammals"
  },
  {
    slug: "Become-an-Olympian"
  },
  {
    slug: "Smell-Seductive-on-Dates"
  },
  {
    slug: "Prevent-Identity-Theft"
  },
  {
    slug: "Pick-Up-Girls-in-High-School"
  },
  {
    slug: "Be-a-Stripper-Who-Knows-What-She-is-Doing"
  },
  {
    slug: "Be-a-True-Hip-Hop-Artist"
  },
  {
    slug: "Exercise-Mindfulness-to-Be-Happier"
  },
  {
    slug: "Say-Some-Common-Phrases-in-Esperanto"
  },
  {
    slug: "Spot-a-Catfish"
  },
  {
    slug: "Help-Save-Whales"
  },
  {
    slug: "Win-at-Arm-Wrestling"
  },
  {
    slug: "Pull-an-All-Nighter"
  },
  {
    slug: "Deal-With-People-Who-Ignore-You"
  },
  {
    slug: "Be-Confident-As-a-Overweight-Adult"
  },
  {
    slug: "Be-Comfortable-in-Your-Own-Skin"
  },
  {
    slug: "Visit-Laguna-Beach,-California"
  },
  {
    slug: "Put-Your-Arm-Around-a-Girl"
  },
  {
    slug: "Channel"
  },
  {
    slug: "Laugh-Naturally-on-Cue"
  },
  {
    slug: "Stop-a-Sneeze"
  },
  {
    slug: "Respond-to-Fundamentalists"
  },
  {
    slug: "Be-the-Type-of-Nerd-That-Girls-Love"
  },
  {
    slug: "Induce-Nightmares"
  },
  {
    slug: "Cosplay-As-Spongebob"
  },
  {
    slug: "Take-Action-if-a-Guy-Calls-You-Ugly"
  },
  {
    slug: "Simplify-Your-Life"
  },
  {
    slug: "Know-Your-Warning-Signs-Before-Becoming-Abusive"
  },
  {
    slug: "Be-Interesting"
  },
  {
    slug: "Survive-Domestic-Violence"
  },
  {
    slug: "Dance-Emo"
  },
  {
    slug: "Develop-Common-Sense"
  },
  {
    slug: "Survive-a-Freestyle-Rap-Battle"
  },
  {
    slug: "Be-Unique"
  },
  {
    slug: "Help-Paranoid-People"
  },
  {
    slug: "Cure-Daffodil-Bulbs-for-Replanting"
  },
  {
    slug: "Be-Persuasive"
  },
  {
    slug: "Play-Wink-Murder"
  },
  {
    slug: "Enhance-Your-Sarcasm-Skills"
  },
  {
    slug: "Respond-to-Sarcasm"
  },
  {
    slug: "Be-Hipster-Yet-Emo"
  },
  {
    slug: "Start-an-Indie-Lifestyle"
  },
  {
    slug: "Care-for-Uromastyx-Lizards"
  },
  {
    slug: "Get-a-Free-Car-if-You-Have-a-Disability"
  },
  {
    slug: "Play-a-Prank"
  },
  {
    slug: "Not-Get-Nervous"
  },
  {
    slug: "Run-Away-From-Home"
  },
  {
    slug: "Be-a-Successful-Teenager"
  },
  {
    slug: "Tell-if-a-Church-is-a-Cult"
  },
  {
    slug: "Know-If-You-Have-DID-Or-Dissociative-Personality-Disorder"
  },
  {
    slug: "Play-With-a-Pet"
  },
  {
    slug: "Buy-Used-Electronics"
  },
  {
    slug: "Stop-Thinking-that-Accepting-Help-is-a-Sign-of-Weakness"
  },
  {
    slug: "Be-an-Educated-Man"
  },
  {
    slug: "Be-a-Good-Entertainer"
  },
  {
    slug: "Support-the-Arts"
  },
  {
    slug: "Act-when-Your-Boyfriend-Keeps-Paying-for-Everything"
  },
  {
    slug: "Deal-with-Strict-Christian-Parents"
  },
  {
    slug: "Choose-a-Rigorous-College-Schedule-for-Your-First-Year"
  },
  {
    slug: "Speak-Finnish"
  },
  {
    slug: "Start-a-Best-Friends-Club"
  },
  {
    slug: "Work-and-Study-at-the-Same-Time"
  },
  {
    slug: "Get-Over-a-Crush-on-Your-Best-Friend"
  },
  {
    slug: "Grow-Your-Hair-Super-Long"
  },
  {
    slug: "Catch-a-Cheating-Girlfriend"
  },
  {
    slug: "Succeed-in-a-Relationship-with-the-Perfect-Girl"
  },
  {
    slug: "Be-Less-Clingy"
  },
  {
    slug: "Catch-a-Cheating-Boyfriend"
  },
  {
    slug: "Survive-a-Coyote-Attack"
  },
  {
    slug: "Tell-if-You-Genuinely-Like-Someone"
  },
  {
    slug: "Get-Along-with-Your-Crush"
  },
  {
    slug: "Become-Good-at-Knife-Fighting"
  },
  {
    slug: "Win-a-Race"
  },
  {
    slug: "Come-Down-from-a-High"
  },
  {
    slug: "Control-Your-Urge-to-Masturbate"
  },
  {
    slug: "Enjoy-Pornography-in-the-Comfort-of-Your-Home"
  },
  {
    slug: "Cosplay-Barbie"
  },
  {
    slug: "Dance-at-a-Nightclub"
  },
  {
    slug: "Ask-a-Girl-to-a-Dance"
  },
  {
    slug: "Play-Bridge"
  },
  {
    slug: "Decide-if-You-Should-Become-a-Stripper"
  },
  {
    slug: "Heal-Broken-Bones"
  },
  {
    slug: "Show-Respect"
  },
  {
    slug: "Keep-Dogs-off-Lawn"
  },
  {
    slug: "Create-a-Benefit-Concert-Series"
  },
  {
    slug: "Have-a-Successful-Open-Source-Project"
  },
  {
    slug: "Become-a-Hacker"
  },
  {
    slug: "Deal-with-a-Love-Triangle"
  },
  {
    slug: "Love-Yourself"
  },
  {
    slug: "Disappear-Like-a-Ninja"
  },
  {
    slug: "Get-Your-Nipples-Pierced"
  },
  {
    slug: "Find-a-Husband-when-the-Women-out-Number-the-Men-in-Your-Country"
  },
  {
    slug: "Make-Friends"
  },
  {
    slug: "Make-Lemonade-when-Life-Gives-You-Lemons"
  },
  {
    slug: "Humanely-Kill-a-Fish"
  },
  {
    slug: "Put-on-Pantyhose"
  },
  {
    slug: "Freak-People-Out"
  },
  {
    slug: "Fake-Pregnancy"
  },
  {
    slug: "Cope-With-Being-in-Love-With-a-Fictional-Character"
  },
  {
    slug: "Act-Depressed"
  },
  {
    slug: "Be-a-Girl-Spy"
  },
  {
    slug: "Appreciate-The-Simpsons"
  },
  {
    slug: "Be-a-Dominatrix"
  },
  {
    slug: "End-a-Controlling-or-Manipulative-Relationship"
  },
  {
    slug: "Create-a-Fictional-Character-from-Scratch"
  },
  {
    slug: "Eat-in-Islam"
  },
  {
    slug: "Be-a-Hipster"
  },
  {
    slug: "Be-a-Femme-Fatale"
  },
  {
    slug: "Be-a-Femme-Fatale"
  },
  {
    slug: "Help-Someone"
  },
  {
    slug: "Win-an-Eating-Contest"
  },
  {
    slug: "Watch-a-Horror-Movie"
  },
  {
    slug: "Lose-Your-Fear-of-Being-Fired"
  },
  {
    slug: "Stop-Snacking-Between-Meals"
  },
  {
    slug: "Differentiate-Between-a-Real-Skater-and-a-Poser-Skater"
  },
  {
    slug: "Change-from-a-Poser-Goth-to-a-Real-One"
  },
  {
    slug: "Tell-if-You-Are-a-Metal-Poser"
  },
  {
    slug: "Get-an-Emo-Girlfriend"
  },
  {
    slug: "Cure-Knock-Knees-Naturally"
  },
  {
    slug: "Open-a-Jiffy-Lube-Franchise"
  },
  {
    slug: "Have-an-Imaginary-Boyfriend-or-Girlfriend"
  },
  {
    slug: "Pretend-to-Be-a-Wizard"
  },
  {
    slug: "Drink-More-Milk-Every-Day"
  },
  {
    slug: "Quit-Drinking-Alcohol"
  },
  {
    slug: "Spot-Signs-of-LSD-Use"
  },
  {
    slug: "Deal-With-a-Lying-Child"
  },
  {
    slug: "Help-Someone-Overcome-Marijuana-Addiction"
  }
];

const roundOneBoxes = [
  {
    title:    "How to Divorce a Missing Spouse in the USA",
    provider: "advancedclass",
    rating:   "WTF",
    url:      "https://www.wikihow.com/Divorce-a-Missing-Spouse-in-the-USA",
    file:     "divorce-a-missing-spouse-in-the-usa.jpg"
  },
  {
    title:    "How to Vomit While Driving",
    provider: "dickthedick",
    rating:   "YUK",
    url:      "https://www.wikihow.com/Vomit-While-Driving",
    file:     "Vomit-While-Driving.jpg"
  },
  {
    title:    "How to Get over Your Fear of Slenderman",
    provider: "Wrought",
    rating:   "LOL",
    url:      "https://www.wikihow.com/Get-over-Your-Fear-of-Slenderman",
    file:     "Get-over-Your-Fear-of-Slenderman.jpg"
  },
  {
    title:    "How to Hogtie Someone",
    provider: "Eider Duck",
    rating:   "WTF",
    url:      "https://www.wikihow.com/Hogtie-Someone",
    file:     "Hogtie-Someone.jpg"
  },
  {
    title:    "How to Become Good at Knife Fighting",
    provider: "Jack Chick",
    rating:   "WTF",
    url:      "https://www.wikihow.com/Become-Good-at-Knife-Fighting",
    file:     "Become-Good-at-Knife-Fighting.jpg"
  },
  {
    title:    "How to Tell Whether You are Left Wing or Right Wing",
    provider: "Murphy",
    rating:   "WTF",
    url:      "https://www.wikihow.com/Tell-Whether-You%27re-Right-Wing-or-Left-Wing",
    file:     "Right-Wing-or-Left-Wing.jpg"
  },
  {
    title:    "How to Perform a Monologue",
    provider: "Spooks",
    rating:   "LOL",
    url:      "https://www.wikihow.com/Perform-a-Monologue",
    file:     "Perform-a-Monologue.jpg"
  },
  {
    title:    "How to Do Black Magic",
    provider: "crow",
    rating:   "LOL",
    url:      "https://www.wikihow.com/Do-Black-Magic",
    file:     "Do-Black-Magic.jpg"
  },
  {
    title:    "How to Tell if Someone is Your Friend",
    provider: "Adam Bozarth",
    rating:   "WTF",
    url:      "https://www.wikihow.com/Tell-if-Someone-Is-Your-Friend",
    file:     "Tell-if-Someone-Is-Your-Friend.jpg"
  },
  {
    title:    "How to Become Pope",
    provider: "crow",
    rating:   "WTF",
    url:      "https://www.wikihow.com/Become-Pope",
    file:     "Become-Pope.jpg"
  },
  {
    title:    "Daniel Songer's Comedy Act #191: “The Day After The End Of The World Born In Hell Born Again In Hell”",
    provider: "Adam Bozarth",
    rating:   "WTF",
    url:      "https://www.youtube.com/watch?v=057tOLxJ4vI",
    file:     "songer.jpg",
    whammy:   true
  },
  {
    title:    "“From Nightmares and Rockets” (An Elon Musk Erotic Fanfic)",
    provider: "Seth “Slimy” Rollins",
    rating:   "YUK",
    url:      "https://archiveofourown.org/works/14412927/chapters/33287679",
    file:     "muskgrimes.jpg",
    whammy:   true
  },
];
const queue = [
  {
    title:    "How to Appreciate Death Metal",
    url:      "https://www.wikihow.com/Appreciate-Death-Metal",
    file:     "Appreciate-Death-Metal.jpg",
    code:     "M_01",
    provider: "Old_Zircon",
    rating:   "LOL"
  },

  {
    title:    "How to Become Pope",
    url:      "https://www.wikihow.com/Become-Pope",
    file:     "Become-Pope.jpg",
    code:     "M_02",
    provider: "crow",
    rating:   "WTF"
  },

  {
    title:    "Daniel Songer's Comedy Act #191: “The Day After The End Of The World Born In Hell Born Again In Hell”",
    url:      "https://www.youtube.com/watch?v=057tOLxJ4vI",
    file:     "songer.jpg",
    code:     "W_01",
    provider: "Adam Bozarth",
    rating:   "WTF",
    whammy:   true
  },

  {
    title:    "How to Fake Your Own Death",
    url:      "https://www.wikihow.com/Fake-Your-Own-Death",
    file:     "Fake-Your-Own-Death.jpg",
    code:     "M_03",
    provider: "Eider Duck",
    rating:   "LOL"
  },


  {
    title:    "How to Escape a Minefield",
    url:      "https://www.wikihow.com/Escape-a-Minefield",
    file:     "Escape-a-Minefield.jpg",
    code:     "M_04",
    provider: "Victor Laszlo",
    rating:   "WTF"
  },

  {
    title:    "How to Get over Your Fear of Slenderman",
    url:      "https://www.wikihow.com/Get-over-Your-Fear-of-Slenderman",
    file:     "Get-over-Your-Fear-of-Slenderman.jpg",
    code:     "M_05",
    provider: "Wrought",
    rating:   "LOL"
  },
  {
    title:    "How to Get Rid of Demons",
    url:      "https://www.wikihow.com/Get-Rid-of-Demons",
    file:     "Get-Rid-of-Demons.jpg",
    code:     "M_06",
    provider: "Montrith",
    rating:   "WTF"
  },

  {
    title:    "“From Nightmares and Rockets” (An Elon Musk Erotic Fanfic)",
    url:      "https://archiveofourown.org/works/14412927/chapters/33287679",
    file:     "muskgrimes.jpg",
    code:     "W_02",
    provider: "Seth “Slimy” Rollins",
    rating:   "YUK",
    whammy:   true
  },
  {
    title:    "How to Have Fun Being Naked",
    url:      "https://www.wikihow.com/Have-Fun-Being-Naked",
    file:     "Have-Fun-Being-Naked.jpg",
    code:     "M_07",
    provider: "Spooks",
    rating:   "LOL"
  },
  /*
  {
    title:    "Yahoo! Answers for Christians Only",
    url:      "https://answers.yahoo.com/question/index;_ylt=AwrXnCJcbn5dgh4ANQ5PmolQ;_ylu=X3oDMTByc3RzMXFjBGNvbG8DZ3ExBHBvcwM0BHZ0aWQDBHNlYwNzcg--?qid=20080124113248AAfmjxo&guccounter=1",
    file:     "yahoo-answers.jpg",
    code:     "W_03",
    provider: "Adam Bozarth",
    rating:   "WTF",
    whammy:   true
  },
  */

  {
    title:    "Zeebo: The Placebo That Actually Works!",
    url:      "https://www.amazon.com/Zeebo-Placebo-Designed-Experience-Well-being/dp/B00NUKW26M",
    file:     "zeebo.jpg",
    code:     "W_04",
    provider: "Neal",
    rating:   "WTF",
    whammy:   true
  },

  {
    title:    "How to Ignore Your Husband",
    url:      "https://www.wikihow.com/Ignore-Your-Husband",
    file:     "Ignore-Your-Husband.jpg",
    code:     "M_08",
    provider: "chai tea latte",
    rating:   "YUK"
  },


  {
    title:    "How to Pretend to Have Ice Powers (for Girls)",
    url:      "https://www.wikihow.com/Pretend-to-Have-Ice-Powers-(for-Girls)",
    file:     "icepowers.jpg",
    code:     "M_09",
    provider: "Kaleidescope & Muffinator",
    rating:   "LOL",
  },
  

  {
    title:    "How to Report Illegal Immigrants",
    url:      "https://www.wikihow.com/Report-Illegal-Immigrants",
    file:     "Report-Illegal-Immigrants.jpg",
    code:     "M_10",
    provider: "Old_Zircon",
    rating:   "YUK",
  },

  {
    title:    "How to Shave Your Genitals (Male)",
    url:      "https://www.wikihow.com/Shave-Your-Genitals-(Male)",
    file:     "shave.jpg",
    code:     "M_11",
    provider: "Old_Zircon",
    rating:   "YUK",
  },

  {
    title:    "How to Start a Cult",
    url:      "https://www.wikihow.com/Start-a-Cult",
    file:     "Start-a-Cult.jpg",
    code:     "M_12",
    provider: "Spontificus",
    rating:   "LOL"
  },

  /*
  {
    title:    "Zeebo: The Placebo That Actually Works!",
    url:      "https://www.amazon.com/Zeebo-Placebo-Designed-Experience-Well-being/dp/B00NUKW26M",
    file:     "zeebo.jpg",
    code:     "W_04",
    provider: "Neal",
    rating:   "WTF",
    whammy:   true
  },
  */

  {
    title:    "B.A.B.E.S. (Bay Area Bug Eating Society)",
    url:      "http://www.planetscott.com/babes/viewerstories.asp",
    file:     "babes.jpg",
    code:     "W_05",
    provider: "GirlKisser420",
    rating:   "YUK",
    whammy:   true
  },


  {
    title:    "How to Survive a Freestyle Rap Battle",
    url:      "https://www.wikihow.com/Survive-a-Freestyle-Rap-Battle",
    file:     "Survive-a-Freestyle-Rap-Battle.jpg",
    code:     "M_13",
    provider: "Aljonso",
    rating:   "LOL"
  },

  {
    title:    "How to Tell if Someone is Your Friend",
    url:      "https://www.wikihow.com/Tell-if-Someone-Is-Your-Friend",
    file:     "Tell-if-Someone-Is-Your-Friend.jpg",
    code:     "M_14",
    provider: "Adam Bozarth",
    rating:   "WTF",
  },

  /*
  {
    title:    "B.A.B.E.S. (Bay Area Bug Eating Society)",
    url:      "http://www.planetscott.com/babes/viewerstories.asp",
    file:     "babes.jpg",
    code:     "W_05",
    provider: "GirlKisser420",
    rating:   "YUK",
    whammy:   true
  },
  */

  {
    title:    "r/creepy_bossta",
    url:      "https://web.archive.org/web/20170714172055/https://www.reddit.com/r/relationship_advice/comments/6mwspj/me_32m_with_my_coworkerfriend_24f_of_one_year_how/",
    file:     "bosstra.jpg",
    code:     "W_06",
    provider: "Darkly & Sham Bam Bamina",
    rating:   "WTF",
    whammy:   true
  },


  {
    title:    "How to Tell if You Have Hit Puberty (Boys)",
    url:      "https://www.wikihow.com/Tell-if-You-Have-Hit-Puberty-%28Boys%29",
    file:     "puberty.jpg",
    code:     "M_15",
    provider: "Victor Laszlo",
    rating:   "YUK",
  },

  {
    title:    "How to Tell Whether You are Left Wing or Right Wing",
    url:      "https://www.wikihow.com/Tell-Whether-You%27re-Right-Wing-or-Left-Wing",
    file:     "Right-Wing-or-Left-Wing.jpg",
    code:     "M_16",
    provider: "Murphy",
    rating:   "WTF",
  },

  /*
  {
    title:    "r/creepy_bossta",
    url:      "https://web.archive.org/web/20170714172055/https://www.reddit.com/r/relationship_advice/comments/6mwspj/me_32m_with_my_coworkerfriend_24f_of_one_year_how/",
    file:     "bosstra.jpg",
    code:     "W_06",
    provider: "Darkly & Sham Bam Bamina",
    rating:   "WTF",
    whammy:   true
  },
  */
  {
    title:    "Restaurant Service Pet Peeves #2 EXTENDED LIST",
    url:      "http://restaurantservicepetpeeves.blogspot.com",
    file:     "restaurant.jpg",
    code:     "W_07",
    provider: "Tulalip Tulips",
    rating:   "WTF",
    whammy:   true
  },

  {
    title:    "How to Think of Quick Witted Comebacks",
    url:      "https://www.wikihow.com/Think-of-Quick-Witted-Comebacks",
    file:     "Think-of-Quick-Witted-Comebacks.jpg",
    code:     "M_17",
    provider: "Old_Zircon",
    rating:   "LOL",
  },

  {
    title:    "How to Throw a LEGO Party (for Adults)",
    url:      "https://www.wikihow.com/Throw-a-LEGO-Party-(for-Adults)",
    file:     "lego.jpg",
    code:     "M_18",
    provider: "Old_Zircon",
    rating:   "LOL",
  },

  /*
  {
    title:    "Restaurant Service Pet Peeves #2 EXTENDED LIST",
    url:      "http://restaurantservicepetpeeves.blogspot.com",
    file:     "restaurant.jpg",
    code:     "W_07",
    provider: "Tulalip Tulips",
    rating:   "WTF",
    whammy:   true
  },
  */

  {
    title:    "Yahoo! Answers for Christians Only",
    url:      "https://answers.yahoo.com/question/index;_ylt=AwrXnCJcbn5dgh4ANQ5PmolQ;_ylu=X3oDMTByc3RzMXFjBGNvbG8DZ3ExBHBvcwM0BHZ0aWQDBHNlYwNzcg--?qid=20080124113248AAfmjxo&guccounter=1",
    file:     "yahoo-answers.jpg",
    code:     "W_03",
    provider: "Adam Bozarth",
    rating:   "WTF",
    whammy:   true
  },

  {
    title:    "How to Use Orgonite/Orgone",
    url:      "https://www.wikihow.com/Use-Orgonite/Orgone",
    file:     "orgonite.jpg",
    code:     "M_19",
    provider: "Bomberjacket",
    rating:   "WTF",
  },

  {
    title:    "How to Vomit While Driving",
    url:      "https://www.wikihow.com/Vomit-While-Driving",
    file:     "Vomit-While-Driving.jpg",
    code:     "M_19",
    provider: "dickthedick",
    rating:   "YUK",
  }

];
//shuffle(roundOneBoxes);


const exhibitionQueue = [];
const initialBoxes = [];



if (loadDamnDog) {

  shuffle(wikiHow);

  for (i = 0; i < 12; i++) {
    let r = {};
    r.slug = wikiHow[i].slug;
    r.imgSrc ='https://damn.dog/img/pics/'+wikiHow[i].slug.toLowerCase()+'.jpg';
    r.title = 'How To ' + wikiHow[i].slug.replace(/-/g, ' ');
    let c = randomNumber(1,50);
    
    if (c == 2) {
      r.selected = true;
    } else {
      r.selected = false;
    }
    
    r.whammy = false;
    r.focus = false;
    r.blinking = false;
  
    roundOne.push(r);
  }

  let r = randomNumber(0,6);
  roundOne[r].imgSrc = 'img/whammy.png';
  roundOne[r].title = "Daniel Songer's Comedy Act #191: The Day After The End Of The World Born In Hell Born Again In Hell";
  roundOne[r].whammy = true;
  roundOne[r].selected = false;

  r = randomNumber(7,11)
  roundOne[r].imgSrc = 'img/whammy.png';
  roundOne[r].title = "From Nightmares and Rockets:  An Elon Musk Erotic Fanfic";
  roundOne[r].whammy = true;
  roundOne[r].selected = false;

}


if (!loadDamnDog) {
  for (i = 0; i < queue.length; i++) {
    let r = queue[i];
  
    r.imgSrc = 'img/drawings/' + r.file;

    r.focus = false;
    r.selected = false;
    r.blinking = false;
  
    if (!r.whammy) {
      r.whammy = false;
    }
  
    exhibitionQueue.push(r);
  }


  for (i = 0; i < 12; i++) {
    
    let r = exhibitionQueue[0];

    initialBoxes.push(r);

    exhibitionQueue.shift();

  }

}


const bozarthName = "Adam Bozarthhhhhhhhh";
const roundSeconds = 480;
const finalSeconds = 300;
const spinFast = true;

var app = new Vue({
  el: '#app',
  data: {
    mode: 'sit down',
    cacheRound: false,
    spinning: false,
    polling: null,
    ticks: 0,
    temp: {
      lastFocused: 0,
      currentFocus: 0
    },
    current: {},
    players: players,
    player: {
      number: 0,
    },
    boxes: initialBoxes,
    queue: exhibitionQueue,
    playedTitles: [],
    finals: {
      active: true,
      finalists: finalists,
      choices: finalChoices,
      current: {
        number: 0,
        player: {},
        choices: [],
        choiceMade: false,
        choice: {}
      }
    },

    countdown: {
      elapsed: 0,
      percent: 0,
      interval: {}
    }

  },

  methods: {
    handleGlobalKeyDown(e) {
      let self = this;
      console.log(e.keyCode);
      

      // PAGE DOWN
      if (e.keyCode == 34) {
        if (self.mode == 'sit down') {
          self.mode = 'come on down';
        } else if (self.mode == 'come on down') {
          self.setupNewSpin();
        } else if (self.mode == 'show player') {
          if (self.finals.active == true) {
            self.mode = 'make your choice';
          } else {
            self.mode = 'spin';
          }
        } else if (self.mode == 'show title') {
          self.closeTheTitle();
        } else if (self.mode == 'countdown') {
          clearInterval(self.countdown.interval);
          self.updateLocalStorage();
          if ((self.mode != 'vote') && (self.player.number == 4 || self.player.number == 8 || self.player.number == 12 )) {
            self.mode = 'vote';
          } else if (self.finals.active == true) {
            self.setupNewFinalist();
          } else {
            self.setupNewSpin();       
          }
        } else if (self.mode == 'vote') { 
          self.mode = 'come on down';
        } else if (self.mode == "make your choice" && self.finals.active == true && self.finals.current.choiceMade == true) {
          self.closeTheTitle();
        }


      }

      // PAGE UP
      if (e.keyCode == 33) {
        if (self.mode == 'spin' || self.mode == "make your choice") {
          self.mode = 'show player';
        } else if (self.mode == 'countdown') {
          self.mode = 'show title';
        }
      }

      // ENTER
      if (e.keyCode == 13) { // Enter pressed.
        if (self.mode == 'spin') {
          if (self.spinning == false) {
            if (self.player.name == bozarthName) {
              self.adamBozarthSubroutine();
            }
            self.pickOneRandomly();
          }
        }
      } 

      // A KEY or 1 KEY
      if (e.keyCode == 65 || e.keyCode == 49) {
        if (self.mode == 'make your choice') {
          self.abPick('A');
        }
      }

      // B KEY or 2 KEY
      if (e.keyCode == 66  || e.keyCode == 50) {
        if (self.mode == 'make your choice') {
          self.abPick('B');
        }
      }

    },

    chooseNewPlayer() {
      let self = this;

      self.player.number++;
      let p;
      if (self.player.number < 5) {
        p = players[0][(self.player.number - 1)];
      } else if (self.player.number < 9) {
        p = players[1][(self.player.number - 5)];
      } else if (self.player.number < 13) {
        p = players[2][(self.player.number - 9)];
      } else {
        p = players[3][(self.player.number - 13)];
      }
      
      if (p.pic) {
        self.player.name = p.name;
        self.player.pic  = p.pic;
      } else {
        self.player.name = p;
        self.player.pic  = "zangief.jpg";
      }

    },

    adamBozarthSubroutine() {
      let self = this;
      
      let adamBox = {
        blinking: false,
        code: "ADAM_01",
        pic: "sexy-football-bozarth.jpg",
        file: "sexy-football-bozarth.jpg",
        imgSrc: "img/drawings/sexy-football-bozarth.jpg",
        focus: false,
        provider: "Montrith",
        rating: "LOL",
        selected: false,
        title: "How To Turn the Super Bowl into Super Sex!",
        url: "http://www.howtodothings.com/family-relationships/how-to-turn-the-super-bowl-into-super-sex",
        whammy: false,
        huge: true
      };

      self.boxes.splice(2, 1, adamBox);
    },

    setupNewSpin() {
      let self = this;

      self.chooseNewPlayer();

      // Rehydrate filled box -------------------------------
      if (self.current && self.current != {} ) {
        let b = self.queue[0];
        b.imgSrc = 'img/drawings/' + b.file;
        self.boxes.splice(self.current.index, 1, b);
        self.queue.shift();
        self.current = {};
      }
      // End rehydrate ---------------------------------------

      self.countdown.percent = 0;
      self.mode = 'show player';
    },

    setDeceleratingTimeout(callback, factor, times) {
      let self = this;
      //let tT = times;
      var internalCallback = function(tick, counter) {
        return function() {
          if (--tick >= 0) {
            if (tick < 5) {
              factor = (factor * 1.1);
            }
            window.setTimeout(internalCallback, ++counter * factor);
            callback();
          } else {

            if (self.boxes[self.temp.currentFocus].whammy == true) {
              whammySound.play();
            } else {
              dingdingding.play();
            }
            
            
            self.current = self.boxes[self.temp.currentFocus];

            self.current.index = self.temp.currentFocus;
            

            self.boxes[self.temp.currentFocus].blinking = true;

            setTimeout(function(){ 
              self.spinning = false;
              self.mode = 'show title';
            }, 3200);

          }
        };
      }(times, 0);
      window.setTimeout(internalCallback, factor);
    },

    pickOneRandomly() {
      let self = this;
      self.spinning = true;
      

      if (self.player.name == bozarthName) {
        self.setDeceleratingTimeout(function(){ 
          self.boxes[2].focus = false;
          sound.play();
          self.boxes[2].lastFocused = 2;
          self.temp.currentFocus = 2;

          setTimeout(function(){ self.boxes[2].focus = true; }, 100);
        }, 15, 56);
      } else {
        if (spinFast == true) {
          self.setDeceleratingTimeout(function(){ self.boop(); }, 15, 6);
        } else {
          self.setDeceleratingTimeout(function(){ self.boop(); }, 15, 36);
        }
      }

    },

    boop() {
      let self = this;

      let c;
      let validToFocus = false;
      while (validToFocus == false) {
        c = randomNumber(0,self.boxes.length);
        if (c != self.temp.lastFocused && self.boxes[c].selected != true) {
          validToFocus = true;
        }
      }
      if (validToFocus == true) {
        sound.play();
        self.boxes[self.temp.lastFocused].focus = false;
        self.boxes[c].focus = true;
        self.temp.lastFocused = c;
        self.temp.currentFocus = c; 
      }
    },

    closeTheTitle() {
      let self = this;
      self.boxes[self.temp.currentFocus].blinking = false;
      self.boxes[self.temp.currentFocus].selected = true;
      self.countdown.percent = 0;
      self.mode = 'countdown'; 

      self.startTheClock();
    },

    startTheClock() {
      let self = this;
      self.countdown.elapsed = 0;

      self.countdown.interval = setInterval(() => {
        self.countdown.elapsed++;

        if (self.finals.active) {
          self.countdown.percent = ((self.countdown.elapsed / finalSeconds) * 100);
        } else {
          self.countdown.percent = ((self.countdown.elapsed / roundSeconds) * 100);
        }
        
        if (self.countdown.percent == 80 ) {
          hurryUp.play();
        }

        if (self.countdown.percent == 100) {
          hurryUp.stop();
          nngg.play();
        }

        if (self.countdown.percent >= 100) {
          clearInterval(self.countdown.interval);
        }

      }, 1000);
    },

    setupNewFinalist() {
      let self = this;
      //self
      self.finals.current.number++;
      self.finals.current.choiceMade = false;
      self.finals.current.choices = self.finals.choices[ (self.finals.current.number - 1) ];
      self.player = self.finals.finalists[(self.finals.current.number - 1)];
      self.player.number = self.finals.current.number;
      self.mode = "show player";
    },

    abPick(which) {
      let self = this;
      self.finals.current.choiceMade = true;

      if (which == "a" || which == "A" || which == "1") {
        self.finals.current.choice = self.finals.current.choices[0];
      }

      if (which == "b" || which == "B" || which == "2") { 
        self.finals.current.choice = self.finals.current.choices[1];
      }

    },

    updateLocalStorage() {
      let self = this;
      //localStorage.playerNumber = self.player.number;
      localStorage.playerNumber = 0;
      self.playedTitles.push(self.current.title);
      localStorage.setItem("playedTitles", JSON.stringify(self.playedTitles));
      //alert(self.playedTitles);

    },

    loadVariablesFromLocalStorage() {
      let self = this;

      if (localStorage.playerNumber) {
        self.player.number = parseInt(localStorage.playerNumber);
      } else {
        localStorage.playerNumber = self.player.number;
      }

      if (localStorage.playedTitles) {
        self.playedTitles = JSON.parse(localStorage.playedTitles);
      }


      self.playedTitles.forEach(function(playedTitle) {

        self.boxes.forEach(function(box, i) {
          if (playedTitle == box.title) {
            //alert('I found a match for ' + playedTitle);
            self.boxes.splice(i,1);
            self.boxes.push(self.queue[0]);
            self.queue.splice(0,1);
          }
        });

      });

    }

  
  
  },



  computed: {
    computedRotate() {
      let self = this;

      if (self.countdown.percent >= 100) {
        return '0deg';
      } else {
        return (self.countdown.percent * 3.6) + 'deg';
      }
    },

    computedRoundNumber() {
      let self = this;

      if (self.player.number < 5) {
        return 1;
      } else if (self.player.number < 9) {
        return 2;
      } else if (self.player.number < 13) {
        return 3;
      } else {
        return 4;
      }

    },

    computedCircleFill() {
      let self = this;
      if (self.countdown.percent <  65) {
        return 'radial-gradient(#00ff00, #bbbbbb, #dddddd)';
      } else if (self.countdown.percent < 90) {
        return 'radial-gradient(#00ff00, #9f9f34, #ffff00)';
      } else {
        return 'radial-gradient(#f00000, #dc281e)';
      }
    },

    computedWarningLights() {
      let self = this;
      let styles = {
        height: 0
      };

      if (self.countdown.percent >= 100) {
        styles.height = '100%';
      }
      if (self.countdown.percent > 90) {
        styles.height = (self.countdown.percent - 90) * 10 + '%';
      }




      return styles;
    }

  },


  mounted: function() {
    let self = this;

    if (self.cacheRound) {
      self.loadVariablesFromLocalStorage();
    } else {
      localStorage.playedTitles = "";
      localStorage.playerNumber = "";
    }

    if (self.finals.active == true) {
      self.setupNewFinalist();
    }

  },

});


window.addEventListener('keydown', function(e) {
  app.handleGlobalKeyDown(e);
});

//# sourceMappingURL=site.min.js.map