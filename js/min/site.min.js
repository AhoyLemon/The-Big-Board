function randomNumber(min,max) {
  return Math.floor(Math.random() * (max - min) ) + min;
}

function workThisArray(myArray) {

  let r = Math.floor(Math.random()*(myArray.length));
  let message = '';

  myArray[r].forEach(function(k) {
    //console.log(typeof k);
    if (typeof k == "object") {
      //console.log(k)
      var z = Math.floor(Math.random()*(k.length));

      if (typeof k[z] == "object") {
        k[z].forEach(function(a) {
          if (typeof a == "object") {
            message += a[(Math.floor(Math.random()*(a.length)))];
          } else {
            message += a;
          }
        });
      } else {
        message += k[z];
      }
    } else {
      message += k;
    }
  });
  return message;
}


function stringInArray(s, a) {
  let n = a.indexOf(s);
  if (n > -1) {
    return true;
  } else {
    return false;
  }
}

function randomFrom(array) {
  return array[Math.floor(Math.random()*(array.length))];
}

function removeFromArray(array,key,value) {
  for (var i = array.length - 1; i >= 0; --i) {
    if (array[i][key] == value) {
        array.splice(i,1);
    }
  }
}

function findInArray(array,key,value) {
  for (var i = array.length - 1; i >= 0; --i) {
    if (array[i][key] == value) {
      return i;
      //alert(i);
      //break;
    }
  }
}


/*
function formatDate(d) {
  const allMonths = ['January', 'February', 'March', 'April', 'May', 'June', 'July', 'August', 'September', 'October', 'November', 'December' ]
  const MonthAbbr = ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec' ]
  let e = d.split("-");
  return MonthAbbr[parseInt(e[1] - 1)] + ' ' + e[2] + ', ' + e[0];
}
*/


function shuffle(o){
  for(var j, x, i = o.length; i; j = Math.floor(Math.random() * i), x = o[--i], o[i] = o[j], o[j] = x);
  return o;
}

function capitalize(string) {
  return string.charAt(0).toUpperCase() + string.slice(1);
}

function bold(string) {
  return '<strong>' + string + '</strong>';
}

function similarity(s1, s2) {
  var longer = s1;
  var shorter = s2;
  if (s1.length < s2.length) {
    longer = s2;
    shorter = s1;
  }
  var longerLength = longer.length;
  if (longerLength == 0) {
    return 1.0;
  }
  return (longerLength - editDistance(longer, shorter)) / parseFloat(longerLength);
}

function editDistance(s1, s2) {
  s1 = s1.toLowerCase();
  s2 = s2.toLowerCase();

  let costs = [];
  for (let i = 0; i <= s1.length; i++) {
    var lastValue = i;
    for (let j = 0; j <= s2.length; j++) {
      if (i == 0)
        costs[j] = j;
      else {
        if (j > 0) {
          let newValue = costs[j - 1];
          if (s1.charAt(i - 1) != s2.charAt(j - 1))
            newValue = Math.min(Math.min(newValue, lastValue),
              costs[j]) + 1;
          costs[j - 1] = lastValue;
          lastValue = newValue;
        }
      }
    }
    if (i > 0)
      costs[s2.length] = lastValue;
  }
  return costs[s2.length];
}

function testChance(chance) {
  let r = Math.floor(Math.random() * 100) + 1;
  if (chance >= r) {
    return true;
  } else {
    return false;
  }
}

function getParams() {
  var vars = {};
  var parts = window.location.href.replace(/[?&]+([^=&]+)=([^&]*)/gi, function(m,key,value) {
      vars[key] = value;
  });
  if (vars && vars != {}) {
    return vars;
  } else {
    return false;
  }
}


function sendEvent(c, a, l, v) {
  if (v) {
    ga('send', 'event', { eventCategory: c, eventAction: a, eventLabel: l, eventValue:v });
    console.log('CATEGORY: '+c+', ACTION:'+a+', LABEL:'+l+', VALUE:'+v);
  } else if (l) {
    ga('send', 'event', { eventCategory: c, eventAction: a, eventLabel: l });
    console.log('CATEGORY: '+c+', ACTION:'+a+', LABEL:'+l);
  } else {
    ga('send', 'event', { eventCategory: c, eventAction: a });
    console.log('CATEGORY: '+c+', ACTION:'+a);
  }
}
//@prepros-prepend globals/_functions.js

//@prepros-append partials/_variables.js
//@prepros-append partials/_drawings.js

//@prepros-append partials/_load-boxes.js

//@prepros-append partials/_vue.js
const siteURL = "";

var sound = new Howl({
  src: ['audio/boop1.mp3']
});

var dingdingding = new Howl({
  src: ['audio/dingdingding.mp3']
});

var whammySound = new Howl({
  src: ['audio/whammy.mp3']
});
// jshint -W098

var wikiHow = [
  {
    slug: "Choose-a-Puppy"
  },
  {
    slug: "Do-Laughter-Yoga"
  },
  {
    slug: "Avoid-Uncomfortable-Conversations-About-Religion"
  },
  {
    slug: "Have-a-Happy-Healthy-and-Spiritually-Fulfilled-Old-Age"
  },
  {
    slug: "Know-if-You-Are-Drunk"
  },
  {
    slug: "Have-Fun-Without-Friends"
  },
  {
    slug: "Cure-a-Headache-Without-Medication"
  },
  {
    slug: "Be-an-Airhead"
  },
  {
    slug: "Know-if-Your-Girlfriend-Wants-to-Have-Sex-With-You"
  },
  {
    slug: "Make-Someone-Feel-Better-Via-Text-Message"
  },
  {
    slug: "Turn-a-Girl-On"
  },
  {
    slug: "Send-Dirty-Texts"
  },
  {
    slug: "Fix-Bad-Breath-on-the-Spot"
  },
  {
    slug: "Be-a-Spy"
  },
  {
    slug: "Tell-when-a-Girl-Is-Interested-in-You"
  },
  {
    slug: "Keep-a-Straight-Face"
  },
  {
    slug: "Get-Over-an-Anime-Addiction"
  },
  {
    slug: "Play-the-Alto-Saxophone"
  },
  {
    slug: "Clear-a-Stuffy-Nose"
  },
  {
    slug: "Write-a-Dystopian-Novel"
  },
  {
    slug: "Get-Anime-Eyes"
  },
  {
    slug: "Be-Emotionless"
  },
  {
    slug: "Understand-Heterosexual-People"
  },
  {
    slug: "Cheat-On-a-Test"
  },
  {
    slug: "Live-in-Peace"
  },
  {
    slug: "Get-Rid-of-an-Unwanted-Erection"
  },
  {
    slug: "Resist-Sexual-Temptation"
  },
  {
    slug: "Tell-a-Girl-You-Like-Her"
  },
  {
    slug: "Make-Someone-You-Met-on-MSN-Love-You"
  },
  {
    slug: "Enjoy-Phone-Sex"
  },
  {
    slug: "Raise-a-Child"
  },
  {
    slug: "Love-Your-Girlfriend"
  },
  {
    slug: "Win-a-Tickle-War"
  },
  {
    slug: "Talk-to-Girls-as-a-Teen-Boy"
  },
  {
    slug: "Survive-a-Charging-Elephant"
  },
  {
    slug: "Make-Friends-Online"
  },
  {
    slug: "Reason"
  },
  {
    slug: "Not-Do-Drugs"
  },
  {
    slug: "Make-Your-Boyfriend-Break-up-With-You"
  },
  {
    slug: "Give-Someone-a-Hickey"
  },
  {
    slug: "Live-in-a-Dungeon"
  },
  {
    slug: "Buy-Firearms-in-California"
  },
  {
    slug: "Capture-Joie-De-Vivre"
  },
  {
    slug: "Be-Naturally-Funny"
  },
  {
    slug: "Be-Playful"
  },
  {
    slug: "Be-a-Lesbian"
  },
  {
    slug: "Believe-in-God"
  },
  {
    slug: "Read-People"
  },
  {
    slug: "Get-on-a-Reality-TV-Show"
  },
  {
    slug: "Overcome-an-Addiction"
  },
  {
    slug: "Start-a-Cult"
  },
  {
    slug: "Tell-a-Lie-Without-Being-Caught"
  },
  {
    slug: "Increase-Your-Ejaculate"
  },
  {
    slug: "Resist-Sexual-Desires-by-Following-Islamic-Traditions"
  },
  {
    slug: "Prevent-Depression"
  },
  {
    slug: "Make-Your-Boyfriend-Kiss-You"
  },
  {
    slug: "Make-Yourself-Pee"
  },
  {
    slug: "Fart-Quietly"
  },
  {
    slug: "Treat-Nasal-Infection-Naturally"
  },
  {
    slug: "Become-an-Alpha-Male"
  },
  {
    slug: "Act-Like-One-of-the-Guys"
  },
  {
    slug: "Be-a-Good-Husband"
  },
  {
    slug: "Get-a-Lesbian-Girlfriend"
  },
  {
    slug: "Stand-up-for-Yourself"
  },
  {
    slug: "Act-Silly-with-Your-Boyfriend"
  },
  {
    slug: "Understand-Gay-and-Lesbian-People"
  },
  {
    slug: "Touch-a-Girl"
  },
  {
    slug: "Act-Like-Bella-from-Twilight"
  },
  {
    slug: "Become-a-Teen-Hacker"
  },
  {
    slug: "Dress-Up-Like-a-Hillbilly"
  },
  {
    slug: "Impress-a-Classmate"
  },
  {
    slug: "Show-Your-Husband-That-You-Love-Him"
  },
  {
    slug: "Be-a-Good-Wife"
  },
  {
    slug: "Love"
  },
  {
    slug: "Be-Quirky"
  },
  {
    slug: "Make-Your-Girlfriend-Want-to-Have-Sex-With-You"
  },
  {
    slug: "Sue-for-Emotional-Distress"
  },
  {
    slug: "Get-Over-an-Affair-and-Move-On-with-Your-Relationship"
  },
  {
    slug: "Survive-in-a-Hotel"
  },
  {
    slug: "Date-a-Stripper"
  },
  {
    slug: "Perform-a-Lap-Dance-for-Your-Boyfriend-or-Husband"
  },
  {
    slug: "Be-a-Trophy-Wife"
  },
  {
    slug: "Start-Doing-Stand-up-Comedy"
  },
  {
    slug: "Give-Your-Boyfriend-Space"
  },
  {
    slug: "Understand-the-Male-Ego"
  },
  {
    slug: "Be-Pretty"
  },
  {
    slug: "Be-Subtle-About-Getting-a-Guy-to-Call-You"
  },
  {
    slug: "Pole-Vault"
  },
  {
    slug: "Be-a-Male-Housewife"
  },
  {
    slug: "Be-Polite-in-Norway"
  },
  {
    slug: "Be-Sassy"
  },
  {
    slug: "Deal-With-a-Sarcastic-Person"
  },
  {
    slug: "Become-Famous-on-the-Internet"
  },
  {
    slug: "Make-Yourself-Famous-on-YouTube"
  },
  {
    slug: "Get-Famous-While-Young"
  },
  {
    slug: "Survive-a-Cold-Winter"
  },
  {
    slug: "Discuss-Barack-Obama-Intelligently"
  },
  {
    slug: "Know-if-Your-Boyfriend-Is-Being-Disrespectful-to-You"
  },
  {
    slug: "Talk-to-Authority"
  },
  {
    slug: "Be-a-Hipster-Girl"
  },
  {
    slug: "Act-Drunk"
  },
  {
    slug: "Tell-if-Someone-Is-High"
  },
  {
    slug: "Win-a-Fist-Fight"
  },
  {
    slug: "Talk-Dirty-in-Bed"
  },
  {
    slug: "Persuade-a-Christian-to-Become-Atheist"
  },
  {
    slug: "Make-a-Guy-That-Is-Mad-at-You-Like-You-Again-Through-Text"
  },
  {
    slug: "Act-Like-a-Villain"
  },
  {
    slug: "Act-Like-the-Doctor-of-Doctor-Who"
  },
  {
    slug: "Act-Like-Royalty"
  },
  {
    slug: "Be-Cunning"
  },
  {
    slug: "Be-Edgy"
  },
  {
    slug: "Be-Brave"
  },
  {
    slug: "Motivate-Yourself"
  },
  {
    slug: "Survive-in-the-Woods"
  },
  {
    slug: "Control-Rosacea"
  },
  {
    slug: "Create-Urban-Rainforests"
  },
  {
    slug: "Refuse-a-Kiss"
  },
  {
    slug: "Be-Sexually-Empowered"
  },
  {
    slug: "Respectfully-Decline-Sex"
  },
  {
    slug: "Make-Out"
  },
  {
    slug: "Avoid-Creating-a-Weak-Villain"
  },
  {
    slug: "Learn-Smoking-Tricks"
  },
  {
    slug: "Avoid-Getting-Caught-Smoking-by-Your-Parents"
  },
  {
    slug: "Identify-Trauma-in-Autistic-People"
  },
  {
    slug: "Stop-Binge-Drinking"
  },
  {
    slug: "Be-Stealthy-Like-a-Ninja"
  },
  {
    slug: "Calm-Down-Quickly"
  },
  {
    slug: "Gargle"
  },
  {
    slug: "Impress-People"
  },
  {
    slug: "Not-Get-Arrested-While-Skateboarding"
  },
  {
    slug: "Recognize-the-Signs-of-Intoxication"
  },
  {
    slug: "Dissolve-the-Ego"
  },
  {
    slug: "Be-Laid-Back"
  },
  {
    slug: "Get-over-Eavesdropped-Phone-Sex-That-You-Had-Without-Knowing-It-Was-Eavesdropped"
  },
  {
    slug: "Be-Strong"
  },
  {
    slug: "Stay-Calm-Around-an-Ex"
  },
  {
    slug: "Plan-a-Disney-Vacation"
  },
  {
    slug: "Act-Like-Sonic-the-Hedgehog"
  },
  {
    slug: "Become-a-Pastafarian"
  },
  {
    slug: "Meet-a-Porn-Star-in-Your-Area"
  },
  {
    slug: "Be-a-Punk"
  },
  {
    slug: "Make-a-Friend-Fall-in-Love-with-You"
  },
  {
    slug: "Be-a-World-Citizen"
  },
  {
    slug: "Be-a-Fascist"
  },
  {
    slug: "Flirt-With-a-Hot-Girl"
  },
  {
    slug: "Write-a-Comedy-Sketch"
  },
  {
    slug: "Release-Endorphins"
  },
  {
    slug: "Feed-a-Snake"
  },
  {
    slug: "Kick-Out-a-Dangerous-Roommate"
  },
  {
    slug: "Identify-a-Psychopath"
  },
  {
    slug: "Stop-a-Masturbation-Addiction"
  },
  {
    slug: "Fix-Your-Digestion"
  },
  {
    slug: "Identify-Cervicitis"
  },
  {
    slug: "Be-a-Christian-Leader"
  },
  {
    slug: "Make-an-Upside-Down-Man-Costume"
  },
  {
    slug: "Relax-when-You-Are-Sick"
  },
  {
    slug: "Use-French-in-Conversations-About-Mammals"
  },
  {
    slug: "Become-an-Olympian"
  },
  {
    slug: "Smell-Seductive-on-Dates"
  },
  {
    slug: "Prevent-Identity-Theft"
  },
  {
    slug: "Pick-Up-Girls-in-High-School"
  },
  {
    slug: "Be-a-Stripper-Who-Knows-What-She-is-Doing"
  },
  {
    slug: "Be-a-True-Hip-Hop-Artist"
  },
  {
    slug: "Exercise-Mindfulness-to-Be-Happier"
  },
  {
    slug: "Say-Some-Common-Phrases-in-Esperanto"
  },
  {
    slug: "Spot-a-Catfish"
  },
  {
    slug: "Help-Save-Whales"
  },
  {
    slug: "Win-at-Arm-Wrestling"
  },
  {
    slug: "Pull-an-All-Nighter"
  },
  {
    slug: "Deal-With-People-Who-Ignore-You"
  },
  {
    slug: "Be-Confident-As-a-Overweight-Adult"
  },
  {
    slug: "Be-Comfortable-in-Your-Own-Skin"
  },
  {
    slug: "Visit-Laguna-Beach,-California"
  },
  {
    slug: "Put-Your-Arm-Around-a-Girl"
  },
  {
    slug: "Channel"
  },
  {
    slug: "Laugh-Naturally-on-Cue"
  },
  {
    slug: "Stop-a-Sneeze"
  },
  {
    slug: "Respond-to-Fundamentalists"
  },
  {
    slug: "Be-the-Type-of-Nerd-That-Girls-Love"
  },
  {
    slug: "Induce-Nightmares"
  },
  {
    slug: "Cosplay-As-Spongebob"
  },
  {
    slug: "Take-Action-if-a-Guy-Calls-You-Ugly"
  },
  {
    slug: "Simplify-Your-Life"
  },
  {
    slug: "Know-Your-Warning-Signs-Before-Becoming-Abusive"
  },
  {
    slug: "Be-Interesting"
  },
  {
    slug: "Survive-Domestic-Violence"
  },
  {
    slug: "Dance-Emo"
  },
  {
    slug: "Develop-Common-Sense"
  },
  {
    slug: "Survive-a-Freestyle-Rap-Battle"
  },
  {
    slug: "Be-Unique"
  },
  {
    slug: "Help-Paranoid-People"
  },
  {
    slug: "Cure-Daffodil-Bulbs-for-Replanting"
  },
  {
    slug: "Be-Persuasive"
  },
  {
    slug: "Play-Wink-Murder"
  },
  {
    slug: "Enhance-Your-Sarcasm-Skills"
  },
  {
    slug: "Respond-to-Sarcasm"
  },
  {
    slug: "Be-Hipster-Yet-Emo"
  },
  {
    slug: "Start-an-Indie-Lifestyle"
  },
  {
    slug: "Care-for-Uromastyx-Lizards"
  },
  {
    slug: "Get-a-Free-Car-if-You-Have-a-Disability"
  },
  {
    slug: "Play-a-Prank"
  },
  {
    slug: "Not-Get-Nervous"
  },
  {
    slug: "Run-Away-From-Home"
  },
  {
    slug: "Be-a-Successful-Teenager"
  },
  {
    slug: "Tell-if-a-Church-is-a-Cult"
  },
  {
    slug: "Know-If-You-Have-DID-Or-Dissociative-Personality-Disorder"
  },
  {
    slug: "Play-With-a-Pet"
  },
  {
    slug: "Buy-Used-Electronics"
  },
  {
    slug: "Stop-Thinking-that-Accepting-Help-is-a-Sign-of-Weakness"
  },
  {
    slug: "Be-an-Educated-Man"
  },
  {
    slug: "Be-a-Good-Entertainer"
  },
  {
    slug: "Support-the-Arts"
  },
  {
    slug: "Act-when-Your-Boyfriend-Keeps-Paying-for-Everything"
  },
  {
    slug: "Deal-with-Strict-Christian-Parents"
  },
  {
    slug: "Choose-a-Rigorous-College-Schedule-for-Your-First-Year"
  },
  {
    slug: "Speak-Finnish"
  },
  {
    slug: "Start-a-Best-Friends-Club"
  },
  {
    slug: "Work-and-Study-at-the-Same-Time"
  },
  {
    slug: "Get-Over-a-Crush-on-Your-Best-Friend"
  },
  {
    slug: "Grow-Your-Hair-Super-Long"
  },
  {
    slug: "Catch-a-Cheating-Girlfriend"
  },
  {
    slug: "Succeed-in-a-Relationship-with-the-Perfect-Girl"
  },
  {
    slug: "Be-Less-Clingy"
  },
  {
    slug: "Catch-a-Cheating-Boyfriend"
  },
  {
    slug: "Survive-a-Coyote-Attack"
  },
  {
    slug: "Tell-if-You-Genuinely-Like-Someone"
  },
  {
    slug: "Get-Along-with-Your-Crush"
  },
  {
    slug: "Become-Good-at-Knife-Fighting"
  },
  {
    slug: "Win-a-Race"
  },
  {
    slug: "Come-Down-from-a-High"
  },
  {
    slug: "Control-Your-Urge-to-Masturbate"
  },
  {
    slug: "Enjoy-Pornography-in-the-Comfort-of-Your-Home"
  },
  {
    slug: "Cosplay-Barbie"
  },
  {
    slug: "Dance-at-a-Nightclub"
  },
  {
    slug: "Ask-a-Girl-to-a-Dance"
  },
  {
    slug: "Play-Bridge"
  },
  {
    slug: "Decide-if-You-Should-Become-a-Stripper"
  },
  {
    slug: "Heal-Broken-Bones"
  },
  {
    slug: "Show-Respect"
  },
  {
    slug: "Keep-Dogs-off-Lawn"
  },
  {
    slug: "Create-a-Benefit-Concert-Series"
  },
  {
    slug: "Have-a-Successful-Open-Source-Project"
  },
  {
    slug: "Become-a-Hacker"
  },
  {
    slug: "Deal-with-a-Love-Triangle"
  },
  {
    slug: "Love-Yourself"
  },
  {
    slug: "Disappear-Like-a-Ninja"
  },
  {
    slug: "Get-Your-Nipples-Pierced"
  },
  {
    slug: "Find-a-Husband-when-the-Women-out-Number-the-Men-in-Your-Country"
  },
  {
    slug: "Make-Friends"
  },
  {
    slug: "Make-Lemonade-when-Life-Gives-You-Lemons"
  },
  {
    slug: "Humanely-Kill-a-Fish"
  },
  {
    slug: "Put-on-Pantyhose"
  },
  {
    slug: "Freak-People-Out"
  },
  {
    slug: "Fake-Pregnancy"
  },
  {
    slug: "Cope-With-Being-in-Love-With-a-Fictional-Character"
  },
  {
    slug: "Act-Depressed"
  },
  {
    slug: "Be-a-Girl-Spy"
  },
  {
    slug: "Appreciate-The-Simpsons"
  },
  {
    slug: "Be-a-Dominatrix"
  },
  {
    slug: "End-a-Controlling-or-Manipulative-Relationship"
  },
  {
    slug: "Create-a-Fictional-Character-from-Scratch"
  },
  {
    slug: "Eat-in-Islam"
  },
  {
    slug: "Be-a-Hipster"
  },
  {
    slug: "Be-a-Femme-Fatale"
  },
  {
    slug: "Be-a-Femme-Fatale"
  },
  {
    slug: "Help-Someone"
  },
  {
    slug: "Win-an-Eating-Contest"
  },
  {
    slug: "Watch-a-Horror-Movie"
  },
  {
    slug: "Lose-Your-Fear-of-Being-Fired"
  },
  {
    slug: "Stop-Snacking-Between-Meals"
  },
  {
    slug: "Differentiate-Between-a-Real-Skater-and-a-Poser-Skater"
  },
  {
    slug: "Change-from-a-Poser-Goth-to-a-Real-One"
  },
  {
    slug: "Tell-if-You-Are-a-Metal-Poser"
  },
  {
    slug: "Get-an-Emo-Girlfriend"
  },
  {
    slug: "Cure-Knock-Knees-Naturally"
  },
  {
    slug: "Open-a-Jiffy-Lube-Franchise"
  },
  {
    slug: "Have-an-Imaginary-Boyfriend-or-Girlfriend"
  },
  {
    slug: "Pretend-to-Be-a-Wizard"
  },
  {
    slug: "Drink-More-Milk-Every-Day"
  },
  {
    slug: "Quit-Drinking-Alcohol"
  },
  {
    slug: "Spot-Signs-of-LSD-Use"
  },
  {
    slug: "Deal-With-a-Lying-Child"
  },
  {
    slug: "Help-Someone-Overcome-Marijuana-Addiction"
  }
];

shuffle(wikiHow);

const roundOne = [];

for (i = 0; i < 12; i++) {
  let r = {};
  r.slug = wikiHow[i].slug;
  r.imgSrc ='https://damn.dog/img/pics/'+wikiHow[i].slug.toLowerCase()+'.jpg';
  r.title = 'How To ' + wikiHow[i].slug.replace(/-/g, ' ');
  let c = randomNumber(1,5);
  
  if (c == 2) {
    r.selected = true;
  } else {
    r.selected = false;
  }
  
  r.whammy = false
  r.focus = false;
  r.blinking = false;

  roundOne.push(r);
}

let r = randomNumber(0,6);
roundOne[r].imgSrc = 'img/whammy.png';
roundOne[r].title = "Daniel Songer's Comedy Act #191: The Day After The End Of The World Born In Hell Born Again In Hell";
roundOne[r].whammy = true;
roundOne[r].selected = false;

r = randomNumber(7,11)
roundOne[r].imgSrc = 'img/whammy.png';
roundOne[r].title = "From Nightmares and Rockets:  An Elon Musk Erotic Fanfic";
roundOne[r].whammy = true;
roundOne[r].selected = false;
var app = new Vue({
  el: '#app',
  data: {
    mode: 'spin',
    spinning: false,
    polling: null,
    ticks: 0,
    temp: {
      lastFocused: 0,
      currentFocus: 0
    },
    current: {},
    rounds: [
      roundOne
    ]
  },

  methods: {
    handleGlobalKeyDown(e) {
      let self = this;
      console.log(e.keyCode);
      
      if (e.keyCode == 32 && self.mode == 'spin') {
        this.pickOneRandomly();
      }


    },

    setDeceleratingTimeout(callback, factor, times) {
      let self = this;
      //let tT = times;
      var internalCallback = function(tick, counter) {
        return function() {
          if (--tick >= 0) {
            if (tick < 5) {
              factor = (factor * 1.1);
            }
            window.setTimeout(internalCallback, ++counter * factor);
            callback();
          } else {

            if (self.rounds[0][self.temp.currentFocus].whammy == true) {
              whammySound.play();
            } else {
              dingdingding.play();
            }
            
            
            self.current = self.rounds[0][self.temp.currentFocus];
            self.rounds[0][self.temp.currentFocus].blinking = true;

            setTimeout(function(){ 
              self.spinning = false;
              self.mode = 'show title';
            }, 3200);

          }
        }
      }(times, 0);
      window.setTimeout(internalCallback, factor);
    },
    pickOneRandomly() {
      let self = this;

      if (self.spinning == false) {
        self.spinning = false;

        //setDeceleratingTimeout(function(){ console.log('bye'); }, 100, 10);
        self.setDeceleratingTimeout(function(){ self.boop(); }, 15, 42);

      }
    },

    boop() {
      let self = this;

      let c;
      let validToFocus = false;
      while (validToFocus == false) {
        c = randomNumber(0,self.rounds[0].length);
        if (c != self.temp.lastFocused && self.rounds[0][c].selected != true) {
          validToFocus = true;
        }
      }
      if (validToFocus == true) {
        sound.play();
        self.rounds[0][self.temp.lastFocused].focus = false;
        self.rounds[0][c].focus = true;
        self.temp.lastFocused = c;
        self.temp.currentFocus = c; 
      }
    },

    closeTheTitle() {
      let self = this;
      self.rounds[0][self.temp.currentFocus].blinking = false;
      self.rounds[0][self.temp.currentFocus].selected = true;
      self.mode = 'spin'; 
    }



  },



  computed: {

  },


  mounted: function() {

  },


});


window.addEventListener('keydown', function(e) {
  app.handleGlobalKeyDown(e);
});

//# sourceMappingURL=site.min.js.map